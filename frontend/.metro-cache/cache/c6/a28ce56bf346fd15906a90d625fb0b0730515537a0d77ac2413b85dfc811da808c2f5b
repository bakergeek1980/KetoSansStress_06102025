{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Appearance","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"BwYMey7bwpCZDbBgbh7HMc3z50M=","exportNames":["*"],"imports":1}},{"name":"./PreferencesContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":150},"end":{"line":3,"column":54,"index":204}}],"key":"8RdVn7LJTwBe+ZzinN7k1b7IXnk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/ThemeContext.tsx\"; // Types des couleurs\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"ThemeProvider\", {\n    enumerable: true,\n    get: function () {\n      return ThemeProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useTheme\", {\n    enumerable: true,\n    get: function () {\n      return useTheme;\n    }\n  });\n  Object.defineProperty(exports, \"useThemedStyles\", {\n    enumerable: true,\n    get: function () {\n      return useThemedStyles;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsAppearance = require(_dependencyMap[1], \"react-native-web/dist/exports/Appearance\");\n  var Appearance = _interopDefault(_reactNativeWebDistExportsAppearance);\n  var _PreferencesContext = require(_dependencyMap[2], \"./PreferencesContext\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  // Thème clair\n  const lightTheme = {\n    primary: '#4CAF50',\n    secondary: '#81C784',\n    accent: '#FF7043',\n    background: '#FAFAFA',\n    surface: '#FFFFFF',\n    card: '#FFFFFF',\n    text: '#212121',\n    textSecondary: '#757575',\n    textLight: '#9E9E9E',\n    border: '#E0E0E0',\n    error: '#F44336',\n    warning: '#FF9800',\n    success: '#4CAF50',\n    info: '#2196F3',\n    // Couleurs keto\n    keto: '#2E7D32',\n    carbs: '#FFA726',\n    protein: '#42A5F5',\n    fat: '#AB47BC',\n    fiber: '#66BB6A'\n  };\n\n  // Thème sombre\n  const darkTheme = {\n    primary: '#66BB6A',\n    secondary: '#A5D6A7',\n    accent: '#FF8A65',\n    background: '#121212',\n    surface: '#1E1E1E',\n    card: '#2C2C2C',\n    text: '#FFFFFF',\n    textSecondary: '#CCCCCC',\n    textLight: '#999999',\n    border: '#404040',\n    error: '#EF5350',\n    warning: '#FFA726',\n    success: '#66BB6A',\n    info: '#42A5F5',\n    // Couleurs keto\n    keto: '#4CAF50',\n    carbs: '#FFB74D',\n    protein: '#64B5F6',\n    fat: '#BA68C8',\n    fiber: '#81C784'\n  };\n  const ThemeContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const ThemeProvider = ({\n    children\n  }) => {\n    const {\n      preferences,\n      updatePreference\n    } = (0, _PreferencesContext.usePreferences)();\n    const [isDark, setIsDark] = (0, _react.useState)(false);\n    const [systemColorScheme, setSystemColorScheme] = (0, _react.useState)(Appearance.default.getColorScheme());\n\n    // Écouter les changements du thème système\n    (0, _react.useEffect)(() => {\n      const subscription = Appearance.default.addChangeListener(({\n        colorScheme\n      }) => {\n        setSystemColorScheme(colorScheme);\n      });\n      return () => subscription?.remove();\n    }, []);\n\n    // Calculer le thème effectif\n    (0, _react.useEffect)(() => {\n      let effectiveTheme;\n      switch (preferences.theme_preference) {\n        case 'light':\n          effectiveTheme = false;\n          break;\n        case 'dark':\n          effectiveTheme = true;\n          break;\n        case 'system':\n        default:\n          effectiveTheme = systemColorScheme === 'dark';\n          break;\n      }\n      setIsDark(effectiveTheme);\n\n      // Mettre à jour dark_mode dans les préférences si nécessaire\n      if (preferences.dark_mode !== effectiveTheme) {\n        updatePreference('dark_mode', effectiveTheme);\n      }\n    }, [preferences.theme_preference, systemColorScheme, preferences.dark_mode, updatePreference]);\n    const toggleTheme = () => {\n      const newTheme = isDark ? 'light' : 'dark';\n      updatePreference('theme_preference', newTheme);\n    };\n    const setTheme = theme => {\n      updatePreference('theme_preference', theme);\n    };\n    const colors = isDark ? darkTheme : lightTheme;\n    const contextValue = {\n      colors,\n      isDark,\n      toggleTheme,\n      setTheme\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ThemeContext.Provider, {\n      value: contextValue,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }, this);\n  };\n  const useTheme = () => {\n    const context = (0, _react.useContext)(ThemeContext);\n    if (context === undefined) {\n      throw new Error('useTheme must be used within a ThemeProvider');\n    }\n    return context;\n  };\n\n  // Hook utilitaire pour créer des styles avec le thème\n  const useThemedStyles = styleFactory => {\n    const {\n      colors\n    } = useTheme();\n    return styleFactory(colors);\n  };\n  var _default = useTheme;\n});","lineCount":171,"map":[[4,64,5,0],[5,2,5,0,"Object"],[5,8,5,0],[5,9,5,0,"defineProperty"],[5,23,5,0],[5,24,5,0,"exports"],[5,31,5,0],[6,4,5,0,"value"],[6,9,5,0],[7,2,5,0],[8,2,5,0],[8,11,5,0,"_interopDefault"],[8,27,5,0,"e"],[8,28,5,0],[9,4,5,0],[9,11,5,0,"e"],[9,12,5,0],[9,16,5,0,"e"],[9,17,5,0],[9,18,5,0,"__esModule"],[9,28,5,0],[9,31,5,0,"e"],[9,32,5,0],[10,6,5,0,"default"],[10,13,5,0],[10,15,5,0,"e"],[11,4,5,0],[12,2,5,0],[13,2,171,0,"Object"],[13,8,171,0],[13,9,171,0,"defineProperty"],[13,23,171,0],[13,24,171,0,"exports"],[13,31,171,0],[14,4,171,0,"enumerable"],[14,14,171,0],[15,4,171,0,"get"],[15,7,171,0],[15,18,171,0,"get"],[15,19,171,0],[16,6,171,0],[16,13,171,0,"_default"],[16,21,171,0],[17,4,171,0],[18,2,171,0],[19,2,89,0,"Object"],[19,8,89,0],[19,9,89,0,"defineProperty"],[19,23,89,0],[19,24,89,0,"exports"],[19,31,89,0],[20,4,89,0,"enumerable"],[20,14,89,0],[21,4,89,0,"get"],[21,7,89,0],[21,18,89,0,"get"],[21,19,89,0],[22,6,89,0],[22,13,89,0,"ThemeProvider"],[22,26,89,0],[23,4,89,0],[24,2,89,0],[25,2,155,0,"Object"],[25,8,155,0],[25,9,155,0,"defineProperty"],[25,23,155,0],[25,24,155,0,"exports"],[25,31,155,0],[26,4,155,0,"enumerable"],[26,14,155,0],[27,4,155,0,"get"],[27,7,155,0],[27,18,155,0,"get"],[27,19,155,0],[28,6,155,0],[28,13,155,0,"useTheme"],[28,21,155,0],[29,4,155,0],[30,2,155,0],[31,2,164,0,"Object"],[31,8,164,0],[31,9,164,0,"defineProperty"],[31,23,164,0],[31,24,164,0,"exports"],[31,31,164,0],[32,4,164,0,"enumerable"],[32,14,164,0],[33,4,164,0,"get"],[33,7,164,0],[33,18,164,0,"get"],[33,19,164,0],[34,6,164,0],[34,13,164,0,"useThemedStyles"],[34,28,164,0],[35,4,164,0],[36,2,164,0],[37,2,1,0],[37,6,1,0,"_react"],[37,12,1,0],[37,15,1,0,"require"],[37,22,1,0],[37,23,1,0,"_dependencyMap"],[37,37,1,0],[38,2,1,89],[38,6,1,89,"_reactNativeWebDistExportsAppearance"],[38,42,1,89],[38,45,1,89,"require"],[38,52,1,89],[38,53,1,89,"_dependencyMap"],[38,67,1,89],[39,2,1,89],[39,6,1,89,"Appearance"],[39,16,1,89],[39,19,1,89,"_interopDefault"],[39,34,1,89],[39,35,1,89,"_reactNativeWebDistExportsAppearance"],[39,71,1,89],[40,2,3,0],[40,6,3,0,"_PreferencesContext"],[40,25,3,0],[40,28,3,0,"require"],[40,35,3,0],[40,36,3,0,"_dependencyMap"],[40,50,3,0],[41,2,3,54],[41,6,3,54,"_reactJsxDevRuntime"],[41,25,3,54],[41,28,3,54,"require"],[41,35,3,54],[41,36,3,54,"_dependencyMap"],[41,50,3,54],[42,2,30,0],[43,2,31,0],[43,8,31,6,"lightTheme"],[43,18,31,30],[43,21,31,33],[44,4,32,2,"primary"],[44,11,32,9],[44,13,32,11],[44,22,32,20],[45,4,33,2,"secondary"],[45,13,33,11],[45,15,33,13],[45,24,33,22],[46,4,34,2,"accent"],[46,10,34,8],[46,12,34,10],[46,21,34,19],[47,4,35,2,"background"],[47,14,35,12],[47,16,35,14],[47,25,35,23],[48,4,36,2,"surface"],[48,11,36,9],[48,13,36,11],[48,22,36,20],[49,4,37,2,"card"],[49,8,37,6],[49,10,37,8],[49,19,37,17],[50,4,38,2,"text"],[50,8,38,6],[50,10,38,8],[50,19,38,17],[51,4,39,2,"textSecondary"],[51,17,39,15],[51,19,39,17],[51,28,39,26],[52,4,40,2,"textLight"],[52,13,40,11],[52,15,40,13],[52,24,40,22],[53,4,41,2,"border"],[53,10,41,8],[53,12,41,10],[53,21,41,19],[54,4,42,2,"error"],[54,9,42,7],[54,11,42,9],[54,20,42,18],[55,4,43,2,"warning"],[55,11,43,9],[55,13,43,11],[55,22,43,20],[56,4,44,2,"success"],[56,11,44,9],[56,13,44,11],[56,22,44,20],[57,4,45,2,"info"],[57,8,45,6],[57,10,45,8],[57,19,45,17],[58,4,47,2],[59,4,48,2,"keto"],[59,8,48,6],[59,10,48,8],[59,19,48,17],[60,4,49,2,"carbs"],[60,9,49,7],[60,11,49,9],[60,20,49,18],[61,4,50,2,"protein"],[61,11,50,9],[61,13,50,11],[61,22,50,20],[62,4,51,2,"fat"],[62,7,51,5],[62,9,51,7],[62,18,51,16],[63,4,52,2,"fiber"],[63,9,52,7],[63,11,52,9],[64,2,53,0],[64,3,53,1],[66,2,55,0],[67,2,56,0],[67,8,56,6,"darkTheme"],[67,17,56,29],[67,20,56,32],[68,4,57,2,"primary"],[68,11,57,9],[68,13,57,11],[68,22,57,20],[69,4,58,2,"secondary"],[69,13,58,11],[69,15,58,13],[69,24,58,22],[70,4,59,2,"accent"],[70,10,59,8],[70,12,59,10],[70,21,59,19],[71,4,60,2,"background"],[71,14,60,12],[71,16,60,14],[71,25,60,23],[72,4,61,2,"surface"],[72,11,61,9],[72,13,61,11],[72,22,61,20],[73,4,62,2,"card"],[73,8,62,6],[73,10,62,8],[73,19,62,17],[74,4,63,2,"text"],[74,8,63,6],[74,10,63,8],[74,19,63,17],[75,4,64,2,"textSecondary"],[75,17,64,15],[75,19,64,17],[75,28,64,26],[76,4,65,2,"textLight"],[76,13,65,11],[76,15,65,13],[76,24,65,22],[77,4,66,2,"border"],[77,10,66,8],[77,12,66,10],[77,21,66,19],[78,4,67,2,"error"],[78,9,67,7],[78,11,67,9],[78,20,67,18],[79,4,68,2,"warning"],[79,11,68,9],[79,13,68,11],[79,22,68,20],[80,4,69,2,"success"],[80,11,69,9],[80,13,69,11],[80,22,69,20],[81,4,70,2,"info"],[81,8,70,6],[81,10,70,8],[81,19,70,17],[82,4,72,2],[83,4,73,2,"keto"],[83,8,73,6],[83,10,73,8],[83,19,73,17],[84,4,74,2,"carbs"],[84,9,74,7],[84,11,74,9],[84,20,74,18],[85,4,75,2,"protein"],[85,11,75,9],[85,13,75,11],[85,22,75,20],[86,4,76,2,"fat"],[86,7,76,5],[86,9,76,7],[86,18,76,16],[87,4,77,2,"fiber"],[87,9,77,7],[87,11,77,9],[88,2,78,0],[88,3,78,1],[89,2,87,0],[89,8,87,6,"ThemeContext"],[89,20,87,18],[89,36,87,21],[89,40,87,21,"createContext"],[89,46,87,34],[89,47,87,34,"createContext"],[89,60,87,34],[89,62,87,65,"undefined"],[89,71,87,74],[89,72,87,75],[90,2,89,7],[90,8,89,13,"ThemeProvider"],[90,21,89,26],[90,24,89,29,"ThemeProvider"],[90,25,89,30],[91,4,89,32,"children"],[92,2,89,66],[92,3,89,67],[92,8,89,72],[93,4,90,2],[93,10,90,8],[94,6,90,10,"preferences"],[94,17,90,21],[95,6,90,23,"updatePreference"],[96,4,90,40],[96,5,90,41],[96,8,90,44],[96,12,90,44,"usePreferences"],[96,31,90,58],[96,32,90,58,"usePreferences"],[96,46,90,58],[96,48,90,59],[96,49,90,60],[97,4,91,2],[97,10,91,8],[97,11,91,9,"isDark"],[97,17,91,15],[97,19,91,17,"setIsDark"],[97,28,91,26],[97,29,91,27],[97,32,91,30],[97,36,91,30,"useState"],[97,42,91,38],[97,43,91,38,"useState"],[97,51,91,38],[97,53,91,39],[97,58,91,44],[97,59,91,45],[98,4,92,2],[98,10,92,8],[98,11,92,9,"systemColorScheme"],[98,28,92,26],[98,30,92,28,"setSystemColorScheme"],[98,50,92,48],[98,51,92,49],[98,54,92,52],[98,58,92,52,"useState"],[98,64,92,60],[98,65,92,60,"useState"],[98,73,92,60],[98,75,93,4,"Appearance"],[98,85,93,14],[98,86,93,14,"default"],[98,93,93,14],[98,94,93,15,"getColorScheme"],[98,108,93,29],[98,109,93,30],[98,110,94,2],[98,111,94,3],[100,4,96,2],[101,4,97,2],[101,8,97,2,"useEffect"],[101,14,97,11],[101,15,97,11,"useEffect"],[101,24,97,11],[101,26,97,12],[101,32,97,18],[102,6,98,4],[102,12,98,10,"subscription"],[102,24,98,22],[102,27,98,25,"Appearance"],[102,37,98,35],[102,38,98,35,"default"],[102,45,98,35],[102,46,98,36,"addChangeListener"],[102,63,98,53],[102,64,98,54],[102,65,98,55],[103,8,98,57,"colorScheme"],[104,6,98,69],[104,7,98,70],[104,12,98,75],[105,8,99,6,"setSystemColorScheme"],[105,28,99,26],[105,29,99,27,"colorScheme"],[105,40,99,38],[105,41,99,39],[106,6,100,4],[106,7,100,5],[106,8,100,6],[107,6,102,4],[107,13,102,11],[107,19,102,17,"subscription"],[107,31,102,29],[107,33,102,31,"remove"],[107,39,102,37],[107,40,102,38],[107,41,102,39],[108,4,103,2],[108,5,103,3],[108,7,103,5],[108,9,103,7],[108,10,103,8],[110,4,105,2],[111,4,106,2],[111,8,106,2,"useEffect"],[111,14,106,11],[111,15,106,11,"useEffect"],[111,24,106,11],[111,26,106,12],[111,32,106,18],[112,6,107,4],[112,10,107,8,"effectiveTheme"],[112,24,107,31],[113,6,109,4],[113,14,109,12,"preferences"],[113,25,109,23],[113,26,109,24,"theme_preference"],[113,42,109,40],[114,8,110,6],[114,13,110,11],[114,20,110,18],[115,10,111,8,"effectiveTheme"],[115,24,111,22],[115,27,111,25],[115,32,111,30],[116,10,112,8],[117,8,113,6],[117,13,113,11],[117,19,113,17],[118,10,114,8,"effectiveTheme"],[118,24,114,22],[118,27,114,25],[118,31,114,29],[119,10,115,8],[120,8,116,6],[120,13,116,11],[120,21,116,19],[121,8,117,6],[122,10,118,8,"effectiveTheme"],[122,24,118,22],[122,27,118,25,"systemColorScheme"],[122,44,118,42],[122,49,118,47],[122,55,118,53],[123,10,119,8],[124,6,120,4],[125,6,122,4,"setIsDark"],[125,15,122,13],[125,16,122,14,"effectiveTheme"],[125,30,122,28],[125,31,122,29],[127,6,124,4],[128,6,125,4],[128,10,125,8,"preferences"],[128,21,125,19],[128,22,125,20,"dark_mode"],[128,31,125,29],[128,36,125,34,"effectiveTheme"],[128,50,125,48],[128,52,125,50],[129,8,126,6,"updatePreference"],[129,24,126,22],[129,25,126,23],[129,36,126,34],[129,38,126,36,"effectiveTheme"],[129,52,126,50],[129,53,126,51],[130,6,127,4],[131,4,128,2],[131,5,128,3],[131,7,128,5],[131,8,128,6,"preferences"],[131,19,128,17],[131,20,128,18,"theme_preference"],[131,36,128,34],[131,38,128,36,"systemColorScheme"],[131,55,128,53],[131,57,128,55,"preferences"],[131,68,128,66],[131,69,128,67,"dark_mode"],[131,78,128,76],[131,80,128,78,"updatePreference"],[131,96,128,94],[131,97,128,95],[131,98,128,96],[132,4,130,2],[132,10,130,8,"toggleTheme"],[132,21,130,19],[132,24,130,22,"toggleTheme"],[132,25,130,22],[132,30,130,28],[133,6,131,4],[133,12,131,10,"newTheme"],[133,20,131,18],[133,23,131,21,"isDark"],[133,29,131,27],[133,32,131,30],[133,39,131,37],[133,42,131,40],[133,48,131,46],[134,6,132,4,"updatePreference"],[134,22,132,20],[134,23,132,21],[134,41,132,39],[134,43,132,41,"newTheme"],[134,51,132,49],[134,52,132,50],[135,4,133,2],[135,5,133,3],[136,4,135,2],[136,10,135,8,"setTheme"],[136,18,135,16],[136,21,135,20,"theme"],[136,26,135,54],[136,30,135,59],[137,6,136,4,"updatePreference"],[137,22,136,20],[137,23,136,21],[137,41,136,39],[137,43,136,41,"theme"],[137,48,136,46],[137,49,136,47],[138,4,137,2],[138,5,137,3],[139,4,139,2],[139,10,139,8,"colors"],[139,16,139,14],[139,19,139,17,"isDark"],[139,25,139,23],[139,28,139,26,"darkTheme"],[139,37,139,35],[139,40,139,38,"lightTheme"],[139,50,139,48],[140,4,141,2],[140,10,141,8,"contextValue"],[140,22,141,38],[140,25,141,41],[141,6,142,4,"colors"],[141,12,142,10],[142,6,143,4,"isDark"],[142,12,143,10],[143,6,144,4,"toggleTheme"],[143,17,144,15],[144,6,145,4,"setTheme"],[145,4,146,2],[145,5,146,3],[146,4,148,2],[146,24,149,4],[146,28,149,4,"_reactJsxDevRuntime"],[146,47,149,4],[146,48,149,4,"jsxDEV"],[146,54,149,4],[146,56,149,5,"ThemeContext"],[146,68,149,17],[146,69,149,18,"Provider"],[146,77,149,26],[147,6,149,27,"value"],[147,11,149,32],[147,13,149,34,"contextValue"],[147,25,149,47],[148,6,149,47,"children"],[148,14,149,47],[148,16,150,7,"children"],[149,4,150,15],[150,6,150,15,"fileName"],[150,14,150,15],[150,16,150,15,"_jsxFileName"],[150,28,150,15],[151,6,150,15,"lineNumber"],[151,16,150,15],[152,6,150,15,"columnNumber"],[152,18,150,15],[153,4,150,15],[153,11,151,27],[153,12,151,28],[154,2,153,0],[154,3,153,1],[155,2,155,7],[155,8,155,13,"useTheme"],[155,16,155,21],[155,19,155,24,"useTheme"],[155,20,155,24],[155,25,155,48],[156,4,156,2],[156,10,156,8,"context"],[156,17,156,15],[156,20,156,18],[156,24,156,18,"useContext"],[156,30,156,28],[156,31,156,28,"useContext"],[156,41,156,28],[156,43,156,29,"ThemeContext"],[156,55,156,41],[156,56,156,42],[157,4,157,2],[157,8,157,6,"context"],[157,15,157,13],[157,20,157,18,"undefined"],[157,29,157,27],[157,31,157,29],[158,6,158,4],[158,12,158,10],[158,16,158,14,"Error"],[158,21,158,19],[158,22,158,20],[158,68,158,66],[158,69,158,67],[159,4,159,2],[160,4,160,2],[160,11,160,9,"context"],[160,18,160,16],[161,2,161,0],[161,3,161,1],[163,2,163,0],[164,2,164,7],[164,8,164,13,"useThemedStyles"],[164,23,164,28],[164,26,165,2,"styleFactory"],[164,38,165,43],[164,42,166,8],[165,4,167,2],[165,10,167,8],[166,6,167,10,"colors"],[167,4,167,17],[167,5,167,18],[167,8,167,21,"useTheme"],[167,16,167,29],[167,17,167,30],[167,18,167,31],[168,4,168,2],[168,11,168,9,"styleFactory"],[168,23,168,21],[168,24,168,22,"colors"],[168,30,168,28],[168,31,168,29],[169,2,169,0],[169,3,169,1],[170,2,171,0],[170,6,171,0,"_default"],[170,14,171,0],[170,17,171,15,"useTheme"],[170,25,171,23],[171,0,171,24],[171,3]],"functionMap":{"names":["<global>","ThemeProvider","useEffect$argument_0","Appearance.addChangeListener$argument_0","<anonymous>","toggleTheme","setTheme","useTheme","useThemedStyles"],"mappings":"AAA;6BCwF;YCQ;sDCC;KDE;WEE,4BF;GDC;YCG;GDsB;sBIE;GJG;mBKE;GLE;CDgB;wBOE;CPM;+BQG;CRK"},"hasCjsExports":false},"type":"js/module"}]}